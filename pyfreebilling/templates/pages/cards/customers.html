{% load i18n %}
{% load static %}
<div class="card">
    <div class="table-responsive">
        <table class="table table-hover table-outline table-vcenter text-nowrap card-table">
            <thead>
                <tr>
                    <th class="text-left">{% trans "Name" %}</th>
                    <th class="text-center">{% trans "Customer balance" %}</th>
                    <th class="text-center">{% trans "Credit limit" %}</th>
                    <th class="text-center">{% trans "Limits" %}</th>
                    <th class="text-center w-1"><i class="fe fe-settings"></i></th>
                </tr>
            </thead>
            <tbody>

                {% if customers %}
                    {% for customer in customers %}
                        <tr>
                            <td class="text-left">
                                <div><a href="{% url 'customerportal:customer_detail' customer.pk %}">{{ customer.company.name }}</a></div>
                                <div class="small text-muted">
                                    Created: {{ customer.created }}
                                </div>
                            </td>
                            <td class="text-center">
                                <div>
                                    {% if customer.company.customer_balance > customer.credit_limit %}
                                        {{ customer.company.customer_balance|floatformat:2 }}
                                        <i class="text-green fe fe-unlock" data-toggle="tooltip" data-original-title="customer_balance"></i>
                                    {% else %}
                                        {{ customer.company.customer_balance|floatformat:2 }}
                                        <i class="text-red fe fe-lock" data-toggle="tooltip" data-original-title="customer_balance"></i>
                                    {% endif %}
                                </div>
                            </td>
                            <td class="text-center">
                                <div>{{ customer.credit_limit|floatformat:2 }}</div>
                            </td>
                            <td class="text-center">
                                <div class="small text-muted">{% trans "Concurrent calls" %} : <b>{{ customer.max_calls }}</b></div>
                                <div class="small text-muted">{% trans "CPS" %} : <b>{{ customer.calls_per_second }}</b></div>
                            </td>
                            <td class="text-center">
                                <div class="item-action dropdown">
                                    <a href="javascript:void(0)" data-toggle="dropdown" class="icon">
                                        <i class="fe fe-more-vertical"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a href="{% url 'customerportal:customer_detail' customer.pk %}" class="dropdown-item">
                                            <i class="dropdown-icon fe fe-link"></i> {% trans "View" %}
                                        </a>
                                        <a href="{" class="dropdown-item">
                                            <i class="dropdown-icon fe fe-edit"></i> {% trans "Edit" %}
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="5" class="text-center small text-muted">
                            <br/>
                            {% trans "You miss a lot of fun, Create some customers!" %}
                            
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>

        <br/><br/>
    </div>
</div>